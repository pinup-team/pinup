<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Detail</title>
</head>
<body>
<h1>Post Detail</h1>

<!-- 수정 버튼과 삭제 버튼 -->
<div>
    <a th:href="@{/post/update/{id}(id=${post.id})}">
        <button>Edit Post</button>
    </a>

    <form th:action="@{/post/{id}(id=${post.id})}" method="post" onsubmit="return confirm('Are you sure you want to delete this post?');">
        <input type="hidden" name="_method" value="DELETE"/>
        <button type="submit">Delete Post</button>
    </form>
</div>

<div>
    <!-- templates/post/detail.html -->
    <h1 th:text="${post != null ? post.title : 'No Title'}"></h1>
    <p th:text="${post != null ? post.content : 'No Content'}"></p>
    <p th:text="'Created At: ' + ${post.createdAt}">Created At</p>
</div>

<hr>

<h3>Comments</h3>

<!-- 댓글 리스트 출력 -->
<div>
    <ul>
        <th:block th:each="comment : ${comments}">
            <li>
                <p th:text="${comment.content}">Comment Content</p>
                <p th:text="'Created At: ' + ${comment.createdAt}">Comment Created At</p>
            </li>
        </th:block>
    </ul>
</div>

<hr>

<h3>Images</h3>

<!-- 이미지 리스트 출력 -->
<div>
    <ul>
        <th:block th:each="image : ${images}">
            <li>
                <!-- 이미지 출력 -->
                <img th:src="${image.s3Url}" alt="Post Image" width="300px"/>
            </li>
        </th:block>
    </ul>
</div>

<hr>

<a th:href="@{/post/list/{storeid}(storeid=${post.storeId})}">Back to Posts List</a>

</body>
</html>
