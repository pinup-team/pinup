<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/member.css}">
    <title>Pin-up</title>
</head>
<body>
<div layout:fragment="content">
    <!-- ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ -->
    <div class="carousel-wrapper">
        <div class="carousel">
            <div class="carousel-inner">
                <ul class="carousel-list">
                    <th:block th:each="i : ${#numbers.sequence(1, 13)}">
                        <li class="carousel-item">
                            <img th:src="@{'/images/pinup_banner_'+${i}+'.jpg'}" alt="Store Image"/>
                        </li>
                    </th:block>
                </ul>
            </div>

            <!-- ìŠ¬ë¼ì´ë“œ ì´ë™ ë²„íŠ¼ -->
            <button class="slide-button slide-left">â€¹</button>
            <button class="slide-button slide-right">â€º</button>
        </div>
    </div>
    <!--    <a th:href="@{/about}" th:class="info-link">ğŸ¤” í•€ì—…ì€ ì–´ë–»ê²Œ ì´ìš©í•˜ë‚˜ìš”?</a>-->

    <div>
        <div class="page_description">
            <h1>Popular</h1>
            <div class="title-container">
                <div class="title-left">
                    <h4>ê°€ì¥ ì¸ê¸° ìˆëŠ” íŒì—… ìŠ¤í† ì–´</h4>
                </div>
                <a th:href="@{/stores}" class="more-link">ë”ë³´ê¸°ğŸ‘‰</a>
            </div>
        </div>
        <div>
            <div class="store-list-container">
                <ul id="store-list">
                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>
<script th:src="@{/js/index.js}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // ì¿ í‚¤ì—ì„œ loginMessage ì°¾ê¸°
        const cookies = document.cookie.split('; ');
        const messageCookie = cookies.find(row => row.startsWith('loginMessage='));

        if (messageCookie) {
            let message = decodeURIComponent(messageCookie.split('=')[1]);
            message = message.replace(/\+/g, ' '); // âœ… '+'ë¥¼ ê³µë°±ìœ¼ë¡œ ë³€í™˜

            alert(message);

            // âœ… ë©”ì‹œì§€ë¥¼ í•œ ë²ˆë§Œ í‘œì‹œí•˜ë„ë¡ ì‚­ì œ
            document.cookie = "loginMessage=; path=/; max-age=0";
        }
    });
</script>
<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function() {-->
<!--        const urlParams = new URLSearchParams(window.location.search);-->
<!--        const message = urlParams.get("message");-->

<!--        if (message) {-->
<!--            alert(decodeURIComponent(message)); // ì•Œë¦¼ í‘œì‹œ-->
<!--        }-->
<!--    });-->
<!--</script>-->